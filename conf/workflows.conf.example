workflows {

  dwca_term_values {

    yaml = "file:/home/kurator/packages/kurator_dwca/workflows/dwca_term_values.yaml"

    title = "Darwin Core Archive Field Value Counter"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/Darwin-Core-Archive-Field-Value-Counter"
    summary = "Given a list of field names (e.g., country|stateProvince), creates reports of the distinct values of those fields and the number of times they occur in a Darwin Core archive found at a given URL."

    instructions = """
        Enter the URL of a valid Darwin Core Archive. This archive will be downloaded 
        and processed in the workflow.
        """

    parameters {

      dwca_url.type = "text"
      dwca_url.label = "URL"
      dwca_url.description = "A URL that points to a valid Darwin Core archive"

    }

    artifacts {

      output_file.label = "The human readable label of this artifact"
      output_file.description = "A description of the contents of this file"
      output_file.type = "text/csv"

    }

  }

  dwca_assess_controlled_terms {

    yaml = "file:/home/kurator/packages/kurator_dwca/workflows/dwca_controlled_term_assessor.yaml"

    title = "Darwin Core Archive Controlled Field Assessor"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/Darwin-Core-Archive-Controlled-Field-Assessor"
    summary = "Creates reports for Darwin Core fields that are supposed to have controlled values. Reports include counts of distinct values and recommendations for those that can be found in the vocabulary files."

    instructions = """
        Enter the URL of a valid Darwin Core Archive. This archive will be downloaded 
        and processed in the workflow.
        """

    parameters {

      dwca_url.type = "text"
      dwca_url.label = "URL"
      dwca_url.description = "A URL that points to a Darwin Core archive"

    }

    artifacts {

      output_file.label = "The human readable label of this artifact"
      output_file.description = "A description of the contents of this file"
      output_file.type = "text/csv"

    }

  }

  dwca_assess_geography {

    yaml = "file:/home/kurator/packages/kurator_dwca/workflows/dwca_geography_assessor.yaml"

    title = "Darwin Core Archive Geography Assessor"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/dwca_assess_geography"
    summary = "Creates reports for Darwin Core higher geography fields. Reports include counts of distinct values and recommendations for those that can be found in the vocabulary files."

    instructions = """
        Enter the URL of a valid Darwin Core Archive. This archive will be downloaded 
        and processed in the workflow.
        """

    parameters {

      dwca_url.type = "text"
      dwca_url.label = "URL"
      dwca_url.description = "A URL that points to a Darwin Core archive"

    }

    artifacts {

      output_file.label = "The human readable label of this artifact"
      output_file.description = "A description of the contents of this file"
      output_file.type = "text/csv"

    }

  }

  dwca_clean_geography {

    yaml = "file:/home/kurator/packages/kurator_dwca/workflows/dwca_geography_cleaner.yaml"

    title = "Darwin Core Archive Geography Cleaner"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/Darwin-Core-Archive-Geography-Cleaner"
    summary = "Creates reports for Darwin Core higher geography fields. Reports include counts of distinct values and recommendations for those that can be found in the vocabulary files. Also creates an output file that replaces values of Darwin Core geography fields with standardized values and adds fields to include the original field values."

    instructions = """
        Enter the URL of a valid Darwin Core Archive. This archive will be downloaded 
        and processed in the workflow.
        """

    parameters {

      dwca_url.type = "text"
      dwca_url.label = "URL"
      dwca_url.description = "A URL that points to a Darwin Core archive"

    }

    artifacts {

      output_file.label = "The human readable label of this artifact"
      output_file.description = "A description of the contents of this file"
      output_file.type = "text/csv"

    }

  }

  darwinize_workflow {

    yaml = "file:/home/kurator/packages/kurator_dwca/workflows/darwinize_file.yaml"

    title = "File Darwinizer"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/File-Darwinizer"
    summary = "Create a file that substitutes standard Darwin Core field names for the fields in an input file."

    instructions = """
        Select a tab-delimited or CSV file to upload. This file will be processed in 
        the workflow. Select the format (csv or txt) for the output file. Select 
        whether to prepend the namespace (e.g., 'dwc:') to fields that could be 
        interpreted as Darwin Core fields.
        """

    parameters {

      inputfile.type = "upload"
      inputfile.label = "Upload file"
      inputfile.description = "Upload a text file to Darwinize"

      format.type = "select"
      format.label = "Output Format"

      format.options = {
        "csv" : "csv",
        "txt" : "txt"
      }

      namespace.type = "select"
      namespace.label = "Add namespace"

      namespace.options = {
        "n" : "no",
        "y" : "yes"
      }

    }
  }

  dwca_workflow {

    yaml = "classpath:org/kurator/validation/workflows/dwca_workflow.yaml"

    title = "Darwin Core Archive Assessor"
    documentation = "https://github.com/kurator-org/kurator-validation/wiki/Darwin-Core-File-Assessor"
    summary = "Given an input file in Simple Darwin Core, performs a variety of assessments on taxonomy, geography, and collecting events."

    instructions = """
        Select a Darwin Core CSV file to upload. This file will be processed in 
        the workflow. Select the taxonomic authority to use for the scientific 
        validation.
        """

    parameters {

      in.type = "upload"
      in.label = "Upload file"
      in.description = "Upload a darwin core archive"

      authority.type = "select"
      authority.label = "Taxon Authority"

      authority.options = {
        "ipni" : "IPNI",
        "if" : "IF",
        "worms" : "WoRMS",
        "col" : "COL",
        "gbif" : "GBIF",
        "globalNames" : "GlobalNames"
      }

    }

#    artifacts {
#
#      output_file.label = "The human readable label of this artifact"
#      output_file.description = "A description of the contents of this file"
#      output_file.type = "text/csv"
#
#    }

  }
#   geo_validator {
# 
#     yaml = "classpath:org/kurator/akka/samples/geo_validator.yaml"
# 
#     title = "Geo Validator"
#     documentation = "http://datakurator.net/wiki"
#     summary = "A summary of what this workflow does"
# 
#     instructions = """Provide instructions about what will happen when you click “download” (i.e. a zipfile
#                               will be downloaded. Click on the output excel file to open and view...)."""
# 
#     parameters {
# 
#       in.type = "upload"
#       in.label = "Upload file"
#       in.description = "Upload a darwin core csv file"
# 
#     }
# 
#     #    artifacts {
#     #
#     #      output_file.label = "The human readable label of this artifact"
#     #      output_file.description = "A description of the contents of this file"
#     #      output_file.type = "text/csv"
#     #
#     #    }
# 
#   }

}

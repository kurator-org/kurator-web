# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

GET /test                           controllers.Application.test()

# Home page
GET     /                           controllers.Application.index()

# Login and logout

GET     /login                      controllers.Application.login()
POST    /authenticate               controllers.Application.authenticate()
GET     /logout                     controllers.Application.logout()

# User registration

GET     /register                   controllers.Application.register()
POST    /register                   controllers.Application.registerSubmit()

# Admin pages

GET     /admin/changepw             controllers.Application.changePass()
GET     /admin/viewruns                 controllers.Application.viewUserRuns()
GET     /admin/usermgmt                controllers.Application.userManagement()

POST    /admin/activate             controllers.Application.activateAccount()
POST    /admin/change               controllers.Application.changePassword()

# Workflow page

GET     /workflow/*name             controllers.Workflows.workflow(name: String)

# Run workflow

POST    /workflow/*name             controllers.Workflows.runWorkflow(name: String)

# Workflow results

GET     /result/*id                 controllers.Workflows.resultArchive(id : Long)
GET     /error/*id                  controllers.Workflows.errorLog(id : Long)
GET     /output/*id                 controllers.Workflows.outputLog(id : Long)

POST     /remove/*id                 controllers.Workflows.removeRun(id : Long)

# Deploy workflow

GET     /deploy                     controllers.Workflows.uploadWorkflow()
POST    /deploy                     controllers.Workflows.deploy()

GET    /packages/delete      controllers.Workflows.deletePackage(name : String)

# Workflow builder

GET     /builder                    controllers.Application.builder()

# REST Api routes for data

GET     /data/uploads               controllers.Workflows.listUploads()
GET     /data/status/*uid           controllers.Workflows.status(uid : String)

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.at(path="/public", file)